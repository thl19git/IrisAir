<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>IrisAir | Session</title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
      <div class="container-fluid">
        <a class="navbar-brand" href="/">IrisAir</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
            <li class="nav-item px-2">
              <a class="nav-link" href="/">Home</a>
            </li>
            <li class="nav-item px-2">
              <a class="nav-link active" aria-current="page" href="/session">Session</a>
            </li>
            <li class="nav-item px-2">
              <a class="nav-link" href="/data">Data</a>
            </li>
            <li class="nav-item px-2">
              <a class="nav-link" href="/logout">Logout</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container">

      <div class="row justify-content-md-center" style="margin-top: 50px">
        <div class="col-md-6 justify-content-center border-md-right">
          <h4 style="text-align: center;">Sessions</h4>
          <br>
          <p>Every work session is started and stopped by you. This is controlled via the interface on this page.</p>
          <p>When a session is started a message is sent to your IrisAir to begin taking measurements. This data is then regularly sent to our servers, and can be accessed via the data page. When you have finished working, you can stop a session and fill in a form, rating the session's productivity and adding some notes if you wish.</p>
          <p>The score you give the session is then used to train our machine learning models, which identify sub-optimal conditions. The more sessions you log, the more the models learn what's right for you.</p>
        </div>

        <div class="col-md-6 justify-content-center text-center padding-md-top">
          <div id="sessionStartStop" style="display: none">
            <div class="text-center">
              <h4 id="startStopText"></h4>
              <button class="btn btn-primary mt-2" id="sessionButton"></button>
            </div>
          </div>

          <div id="addDevice" style="display: none">
            <div style="text-align: center;">
              <h3>Add a device to start a session</h3>
              <h4>This can be done on the home page</h4>
            </div>
          </div>

          <div id="sessionFormDiv" style="display: none">
            <h4 style="text-align: center;">Rate your session</h4>
            <form id="sessionForm">
              <div class="form-group">
                <label for="sessionScore" class="mt-2">How productive was the session?<br>(1 = least productive, 10 = most productive)</label>
                <select name="sessionScore" id="sessionScore" class="form-select mt-2" style="width: 60%; margin-left: auto; margin-right: auto">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option selected value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                </select>
                <label for="inputEmail" class="mt-2">Add any notes about the session</label>
                <input name="notes" type="text" class="form-control mt-2" id="inputDeviceCode" placeholder="Notes" style="width: 60%; margin-left: auto; margin-right: auto">
              </div>
              <button type="submit" class="btn btn-primary mt-2" id="sessionFormButton">Submit</button>
            </form>
          </div>

        </div>
      </div>
    </div>
    
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
      <div id="alertToast" class="toast border-0" role="alert" aria-live="assertive" aria-atomic="true" data-bs-autohide="false">
        <div class="toast-header bg-secondary text-white">
          <strong class="me-auto">IrisAir - Alert</strong>
          <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
        <div class="toast-body" id="AlertBody">
          Your current temperature is higher than you normally prefer
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="main.js"></script>
    <script src="session.js"></script>
  </body>
</html>